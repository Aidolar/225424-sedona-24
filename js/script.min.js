var button=document.querySelector(".hotel-search__open-search-button"),popup=document.querySelector(".modal"),form=popup.querySelector("form"),arrivalDate=popup.querySelector("[name=arrival-date]"),departureDate=popup.querySelector("[name=departure-date]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("arrival-date")}catch(e){isStorageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("modal-show"),popup.classList.remove("modal-error"),storage?(arrivalDate.value=storage,departureDate.focus()):arrivalDate.focus()}),form.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value?isStorageSupport&&localStorage.setItem("arrival-date",arrivalDate.value):(e.preventDefault(),popup.classList.toggle("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")))});
